<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RT2 - Assignment2: scripts/go_to_point.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RT2 - Assignment2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_53e6fa9553ac22a5646d2a2b2d7b97a1.html">scripts</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">go_to_point.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This script allows to the robot to reach a random goal position.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afea56a392e98b6db44754a04f7039ccd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point_8py.html#afea56a392e98b6db44754a04f7039ccd">go_to_point.clbk_vel</a> (msg)</td></tr>
<tr class="memdesc:afea56a392e98b6db44754a04f7039ccd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when new data are available on the topic /vel.  <a href="go__to__point_8py.html#afea56a392e98b6db44754a04f7039ccd">More...</a><br /></td></tr>
<tr class="separator:afea56a392e98b6db44754a04f7039ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36304a9f313b0579f7fc69fa01695524"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point_8py.html#a36304a9f313b0579f7fc69fa01695524">go_to_point.clbk_odom</a> (msg)</td></tr>
<tr class="memdesc:a36304a9f313b0579f7fc69fa01695524"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when new data are available on the topic /odom.  <a href="go__to__point_8py.html#a36304a9f313b0579f7fc69fa01695524">More...</a><br /></td></tr>
<tr class="separator:a36304a9f313b0579f7fc69fa01695524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ee48e5cae36821049b572a96b7c8be"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point_8py.html#a31ee48e5cae36821049b572a96b7c8be">go_to_point.change_state</a> (state)</td></tr>
<tr class="memdesc:a31ee48e5cae36821049b572a96b7c8be"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function changes the state.  <a href="go__to__point_8py.html#a31ee48e5cae36821049b572a96b7c8be">More...</a><br /></td></tr>
<tr class="separator:a31ee48e5cae36821049b572a96b7c8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac688bb56fa84763ea2edefc30cae032a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point_8py.html#ac688bb56fa84763ea2edefc30cae032a">go_to_point.normalize_angle</a> (angle)</td></tr>
<tr class="memdesc:ac688bb56fa84763ea2edefc30cae032a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function normalizes angles.  <a href="go__to__point_8py.html#ac688bb56fa84763ea2edefc30cae032a">More...</a><br /></td></tr>
<tr class="separator:ac688bb56fa84763ea2edefc30cae032a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3011a3065fcbefcc1c5ad8c9979669"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point_8py.html#a9c3011a3065fcbefcc1c5ad8c9979669">go_to_point.fix_yaw</a> (des_pos)</td></tr>
<tr class="memdesc:a9c3011a3065fcbefcc1c5ad8c9979669"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function orients the robot towards the goal.  <a href="go__to__point_8py.html#a9c3011a3065fcbefcc1c5ad8c9979669">More...</a><br /></td></tr>
<tr class="separator:a9c3011a3065fcbefcc1c5ad8c9979669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8579665c0fbf665f734476554fac37d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point_8py.html#ac8579665c0fbf665f734476554fac37d">go_to_point.go_straight_ahead</a> (des_pos)</td></tr>
<tr class="memdesc:ac8579665c0fbf665f734476554fac37d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function moves the robot in a straight line.  <a href="go__to__point_8py.html#ac8579665c0fbf665f734476554fac37d">More...</a><br /></td></tr>
<tr class="separator:ac8579665c0fbf665f734476554fac37d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a406386ca62830c19c93949e923f7bd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point_8py.html#a4a406386ca62830c19c93949e923f7bd">go_to_point.fix_final_yaw</a> (des_yaw)</td></tr>
<tr class="memdesc:a4a406386ca62830c19c93949e923f7bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function orients the robot in the goal position.  <a href="go__to__point_8py.html#a4a406386ca62830c19c93949e923f7bd">More...</a><br /></td></tr>
<tr class="separator:a4a406386ca62830c19c93949e923f7bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2587220a4ac9c845bc9c5b0b45d5835"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point_8py.html#ac2587220a4ac9c845bc9c5b0b45d5835">go_to_point.done</a> ()</td></tr>
<tr class="memdesc:ac2587220a4ac9c845bc9c5b0b45d5835"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function stops the robot.  <a href="go__to__point_8py.html#ac2587220a4ac9c845bc9c5b0b45d5835">More...</a><br /></td></tr>
<tr class="separator:ac2587220a4ac9c845bc9c5b0b45d5835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2203d17b7e563bee20ed4c988548df45"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point_8py.html#a2203d17b7e563bee20ed4c988548df45">go_to_point.go_to_point</a> (goal)</td></tr>
<tr class="memdesc:a2203d17b7e563bee20ed4c988548df45"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function implements the go_to_point behaviour.  <a href="go__to__point_8py.html#a2203d17b7e563bee20ed4c988548df45">More...</a><br /></td></tr>
<tr class="separator:a2203d17b7e563bee20ed4c988548df45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab92bd6db1ec323a4d795ed6cb40aebe1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point_8py.html#ab92bd6db1ec323a4d795ed6cb40aebe1">go_to_point.main</a> ()</td></tr>
<tr class="memdesc:ab92bd6db1ec323a4d795ed6cb40aebe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function implements the ros node.  <a href="go__to__point_8py.html#ab92bd6db1ec323a4d795ed6cb40aebe1">More...</a><br /></td></tr>
<tr class="separator:ab92bd6db1ec323a4d795ed6cb40aebe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a91dbaab25e6080f6b5dbf82cac6ce75c"><td class="memItemLeft" align="right" valign="top"><a id="a91dbaab25e6080f6b5dbf82cac6ce75c" name="a91dbaab25e6080f6b5dbf82cac6ce75c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.position_</b> = Point()</td></tr>
<tr class="separator:a91dbaab25e6080f6b5dbf82cac6ce75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae444f19eb2019982432760ace036ce03"><td class="memItemLeft" align="right" valign="top"><a id="ae444f19eb2019982432760ace036ce03" name="ae444f19eb2019982432760ace036ce03"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.yaw_</b> = 0</td></tr>
<tr class="separator:ae444f19eb2019982432760ace036ce03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d0ef255bcf5d5faf9ca2764730fb17"><td class="memItemLeft" align="right" valign="top"><a id="aa2d0ef255bcf5d5faf9ca2764730fb17" name="aa2d0ef255bcf5d5faf9ca2764730fb17"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.state_</b> = 0</td></tr>
<tr class="separator:aa2d0ef255bcf5d5faf9ca2764730fb17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b4090d0abcbcf0bfa2bcb9329d3036"><td class="memItemLeft" align="right" valign="top"><a id="a57b4090d0abcbcf0bfa2bcb9329d3036" name="a57b4090d0abcbcf0bfa2bcb9329d3036"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.pub_</b> = None</td></tr>
<tr class="separator:a57b4090d0abcbcf0bfa2bcb9329d3036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d4e06d500484fa4b57f15afbb0c9ee3"><td class="memItemLeft" align="right" valign="top"><a id="a1d4e06d500484fa4b57f15afbb0c9ee3" name="a1d4e06d500484fa4b57f15afbb0c9ee3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.des_position</b> = Point()</td></tr>
<tr class="separator:a1d4e06d500484fa4b57f15afbb0c9ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd68a76b8583598a4bceccdeae5d73b"><td class="memItemLeft" align="right" valign="top"><a id="a2fd68a76b8583598a4bceccdeae5d73b" name="a2fd68a76b8583598a4bceccdeae5d73b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.z</b></td></tr>
<tr class="separator:a2fd68a76b8583598a4bceccdeae5d73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a110ef6a884542ca16787b0c159c9d301"><td class="memItemLeft" align="right" valign="top"><a id="a110ef6a884542ca16787b0c159c9d301" name="a110ef6a884542ca16787b0c159c9d301"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.temp_flag</b> = False</td></tr>
<tr class="separator:a110ef6a884542ca16787b0c159c9d301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f95834f0959feb3facd17bc7fa2b38"><td class="memItemLeft" align="right" valign="top"><a id="a67f95834f0959feb3facd17bc7fa2b38" name="a67f95834f0959feb3facd17bc7fa2b38"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.yaw_precision_</b> = math.pi / 9</td></tr>
<tr class="separator:a67f95834f0959feb3facd17bc7fa2b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af74ccf49164d0478ca8343e2031d5813"><td class="memItemLeft" align="right" valign="top"><a id="af74ccf49164d0478ca8343e2031d5813" name="af74ccf49164d0478ca8343e2031d5813"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.yaw_precision_2_</b> = math.pi / 90</td></tr>
<tr class="separator:af74ccf49164d0478ca8343e2031d5813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5"><td class="memItemLeft" align="right" valign="top"><a id="a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5" name="a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.dist_precision_</b> = 0.1</td></tr>
<tr class="separator:a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a524106fc7667a0927951dfd89d52d6a7"><td class="memItemLeft" align="right" valign="top"><a id="a524106fc7667a0927951dfd89d52d6a7" name="a524106fc7667a0927951dfd89d52d6a7"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.kp_a</b> = -3.0</td></tr>
<tr class="separator:a524106fc7667a0927951dfd89d52d6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bc498652ca66932e704e738b50c297b"><td class="memItemLeft" align="right" valign="top"><a id="a7bc498652ca66932e704e738b50c297b" name="a7bc498652ca66932e704e738b50c297b"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.kp_d</b> = 0.2</td></tr>
<tr class="separator:a7bc498652ca66932e704e738b50c297b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb4e14986fafe5cb73bb8ad0c178869d"><td class="memItemLeft" align="right" valign="top"><a id="acb4e14986fafe5cb73bb8ad0c178869d" name="acb4e14986fafe5cb73bb8ad0c178869d"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.ub_a</b> = 0.6</td></tr>
<tr class="separator:acb4e14986fafe5cb73bb8ad0c178869d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afecad4058844db05d8321199e25b4498"><td class="memItemLeft" align="right" valign="top"><a id="afecad4058844db05d8321199e25b4498" name="afecad4058844db05d8321199e25b4498"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.lb_a</b> = -0.5</td></tr>
<tr class="separator:afecad4058844db05d8321199e25b4498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c473b9e717200c483d18e66b48152a"><td class="memItemLeft" align="right" valign="top"><a id="a16c473b9e717200c483d18e66b48152a" name="a16c473b9e717200c483d18e66b48152a"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.ub_d</b> = 0.6</td></tr>
<tr class="separator:a16c473b9e717200c483d18e66b48152a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0157a8fb4c1c26f4d5e8ea95652b0d7c"><td class="memItemLeft" align="right" valign="top"><a id="a0157a8fb4c1c26f4d5e8ea95652b0d7c" name="a0157a8fb4c1c26f4d5e8ea95652b0d7c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.vel_</b> = Twist()</td></tr>
<tr class="separator:a0157a8fb4c1c26f4d5e8ea95652b0d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2017a478ea0eb9380bed961db601f95d"><td class="memItemLeft" align="right" valign="top"><a id="a2017a478ea0eb9380bed961db601f95d" name="a2017a478ea0eb9380bed961db601f95d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>go_to_point.action_server</b> = None</td></tr>
<tr class="separator:a2017a478ea0eb9380bed961db601f95d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This script allows to the robot to reach a random goal position. </p>
<dl class="section author"><dt>Author</dt><dd>Riccardo Zuppetti </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>06/06/2022</dd></dl>
<p>Subscribes to: <br  />
 /odom /vel</p>
<p >Publishes to: <br  />
 /cmd_vel</p>
<p >Services: <br  />
 None</p>
<p >Action Services: <br  />
 /go_to_point</p>
<p >Description: <br  />
 This node allows the robot to reach a random position with a given orientation. To reach this position, the robot orients itself in the direction of the goal position. Then the robot moves towards the goal in a straight direction. Reached the position, the robots rotates itself to achieve the orientation provided. It subscribes to the /odom topic in order to retrieve the current pose of the robot and publishes the velocities on the /cmd_vel topic. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a31ee48e5cae36821049b572a96b7c8be" name="a31ee48e5cae36821049b572a96b7c8be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31ee48e5cae36821049b572a96b7c8be">&#9670;&nbsp;</a></span>change_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point.change_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function changes the state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>the state of the robot </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: None</dd></dl>
<p>This function receives the new state and assigns its value to the global variable states_. </p>

</div>
</div>
<a id="a36304a9f313b0579f7fc69fa01695524" name="a36304a9f313b0579f7fc69fa01695524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36304a9f313b0579f7fc69fa01695524">&#9670;&nbsp;</a></span>clbk_odom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point.clbk_odom </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called when new data are available on the topic /odom. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the data received on the topic /odom </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: None</dd></dl>
<p>This function saves the data published on the /odom topic to retrieve the current pose of the robot (position &amp; orientation). It then changes the format of the orientation from quaternions angles to euler angles. </p>

</div>
</div>
<a id="afea56a392e98b6db44754a04f7039ccd" name="afea56a392e98b6db44754a04f7039ccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afea56a392e98b6db44754a04f7039ccd">&#9670;&nbsp;</a></span>clbk_vel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point.clbk_vel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called when new data are available on the topic /vel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the data received on the topic /vel </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: None</dd></dl>
<p>This function saves the data received by the subscriber on the topic /vel in a global variable of type Twist, Vel, this variable will be used when there is the need to set a new velocity. </p>

</div>
</div>
<a id="ac2587220a4ac9c845bc9c5b0b45d5835" name="ac2587220a4ac9c845bc9c5b0b45d5835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2587220a4ac9c845bc9c5b0b45d5835">&#9670;&nbsp;</a></span>done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point.done </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function stops the robot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>None </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: None</dd></dl>
<p>This function puts to zero all the velocities, angular and linear, and sets the goal as succeeded. <br  />
 </p>

</div>
</div>
<a id="a4a406386ca62830c19c93949e923f7bd" name="a4a406386ca62830c19c93949e923f7bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a406386ca62830c19c93949e923f7bd">&#9670;&nbsp;</a></span>fix_final_yaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point.fix_final_yaw </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>des_yaw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function orients the robot in the goal position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">des_yaw</td><td>the desired orientation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: None</dd></dl>
<p>This function calculates the error between the current orientation and the desired one. It then sets the angular velocity to obtain the correct orientation. If the error is less than a given threshold then the state is changed to done. </p>

</div>
</div>
<a id="a9c3011a3065fcbefcc1c5ad8c9979669" name="a9c3011a3065fcbefcc1c5ad8c9979669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c3011a3065fcbefcc1c5ad8c9979669">&#9670;&nbsp;</a></span>fix_yaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point.fix_yaw </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>des_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function orients the robot towards the goal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">des_pos</td><td>the desired position to be reached </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: None</dd></dl>
<p>It rotates the robot to fix the yaw in the desired direction by publishing a twist message on /cmd_vel </p>

</div>
</div>
<a id="ac8579665c0fbf665f734476554fac37d" name="ac8579665c0fbf665f734476554fac37d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8579665c0fbf665f734476554fac37d">&#9670;&nbsp;</a></span>go_straight_ahead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point.go_straight_ahead </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>des_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function moves the robot in a straight line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">des_pos</td><td>the desired position to be reached </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: None</dd></dl>
<p>This function allows to the robot to go straight or to change the state if needed </p>

</div>
</div>
<a id="a2203d17b7e563bee20ed4c988548df45" name="a2203d17b7e563bee20ed4c988548df45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2203d17b7e563bee20ed4c988548df45">&#9670;&nbsp;</a></span>go_to_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point.go_to_point </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>goal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function implements the go_to_point behaviour. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">goal</td><td>the desired position and orientation to reach </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: None</dd></dl>
<p>This function is called when a request to the server is made. It sets all the global variables needed, then it enteres a while loop. In the while loop it always check if the goal is preempted and if that is the case it sets all the velocities to zero and it set the goal as preempted. If the action server is not preempted it checks which is the state and it calls the corresponding function. <br  />
 </p>

</div>
</div>
<a id="ab92bd6db1ec323a4d795ed6cb40aebe1" name="ab92bd6db1ec323a4d795ed6cb40aebe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab92bd6db1ec323a4d795ed6cb40aebe1">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function implements the ros node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>None </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: None</dd></dl>
<p>This function is called when the program is first requested to run. It initializes all the publishers, subscribers, services and then waits for a request for the action server that should come from the user_interface node. </p>

</div>
</div>
<a id="ac688bb56fa84763ea2edefc30cae032a" name="ac688bb56fa84763ea2edefc30cae032a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac688bb56fa84763ea2edefc30cae032a">&#9670;&nbsp;</a></span>normalize_angle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point.normalize_angle </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>angle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function normalizes angles. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">angle</td><td>the angle to norrmalize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: the normalized angle</dd></dl>
<p>This function normalizes the angle received as input. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
