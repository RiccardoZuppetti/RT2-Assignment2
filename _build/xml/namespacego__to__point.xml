<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="namespacego__to__point" kind="namespace" language="Python">
    <compoundname>go_to_point</compoundname>
      <sectiondef kind="var">
      <memberdef kind="variable" id="namespacego__to__point_1a91dbaab25e6080f6b5dbf82cac6ce75c" prot="public" static="no" mutable="no">
        <type></type>
        <definition>int go_to_point::position_</definition>
        <argsstring></argsstring>
        <name>position_</name>
        <initializer>=  Point()</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="40" column="1" bodyfile="scripts/go_to_point.py" bodystart="40" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1ae444f19eb2019982432760ace036ce03" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int go_to_point.yaw_</definition>
        <argsstring></argsstring>
        <name>yaw_</name>
        <initializer>=  0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="43" column="1" bodyfile="scripts/go_to_point.py" bodystart="43" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1aa2d0ef255bcf5d5faf9ca2764730fb17" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int go_to_point.state_</definition>
        <argsstring></argsstring>
        <name>state_</name>
        <initializer>=  0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="47" column="1" bodyfile="scripts/go_to_point.py" bodystart="47" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a57b4090d0abcbcf0bfa2bcb9329d3036" prot="public" static="no" mutable="no">
        <type></type>
        <definition>go_to_point.pub_</definition>
        <argsstring></argsstring>
        <name>pub_</name>
        <initializer>=  None</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="50" column="1" bodyfile="scripts/go_to_point.py" bodystart="50" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a1d4e06d500484fa4b57f15afbb0c9ee3" prot="public" static="no" mutable="no">
        <type></type>
        <definition>go_to_point.des_position</definition>
        <argsstring></argsstring>
        <name>des_position</name>
        <initializer>=  Point()</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="55" column="1" bodyfile="scripts/go_to_point.py" bodystart="55" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a2fd68a76b8583598a4bceccdeae5d73b" prot="public" static="no" mutable="no">
        <type></type>
        <definition>go_to_point.z</definition>
        <argsstring></argsstring>
        <name>z</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="58" column="1" bodyfile="scripts/go_to_point.py" bodystart="58" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a110ef6a884542ca16787b0c159c9d301" prot="public" static="no" mutable="no">
        <type>bool</type>
        <definition>bool go_to_point.temp_flag</definition>
        <argsstring></argsstring>
        <name>temp_flag</name>
        <initializer>=  False</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="61" column="1" bodyfile="scripts/go_to_point.py" bodystart="61" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a67f95834f0959feb3facd17bc7fa2b38" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int go_to_point.yaw_precision_</definition>
        <argsstring></argsstring>
        <name>yaw_precision_</name>
        <initializer>=  math.pi / 9</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="66" column="1" bodyfile="scripts/go_to_point.py" bodystart="66" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1af74ccf49164d0478ca8343e2031d5813" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int go_to_point.yaw_precision_2_</definition>
        <argsstring></argsstring>
        <name>yaw_precision_2_</name>
        <initializer>=  math.pi / 90</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="69" column="1" bodyfile="scripts/go_to_point.py" bodystart="69" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5" prot="public" static="no" mutable="no">
        <type>float</type>
        <definition>float go_to_point.dist_precision_</definition>
        <argsstring></argsstring>
        <name>dist_precision_</name>
        <initializer>=  0.1</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="72" column="1" bodyfile="scripts/go_to_point.py" bodystart="72" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a524106fc7667a0927951dfd89d52d6a7" prot="public" static="no" mutable="no">
        <type>float</type>
        <definition>float go_to_point.kp_a</definition>
        <argsstring></argsstring>
        <name>kp_a</name>
        <initializer>=  -3.0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="75" column="1" bodyfile="scripts/go_to_point.py" bodystart="75" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a7bc498652ca66932e704e738b50c297b" prot="public" static="no" mutable="no">
        <type>float</type>
        <definition>float go_to_point.kp_d</definition>
        <argsstring></argsstring>
        <name>kp_d</name>
        <initializer>=  0.2</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="78" column="1" bodyfile="scripts/go_to_point.py" bodystart="78" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1acb4e14986fafe5cb73bb8ad0c178869d" prot="public" static="no" mutable="no">
        <type>float</type>
        <definition>float go_to_point.ub_a</definition>
        <argsstring></argsstring>
        <name>ub_a</name>
        <initializer>=  0.6</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="81" column="1" bodyfile="scripts/go_to_point.py" bodystart="81" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1afecad4058844db05d8321199e25b4498" prot="public" static="no" mutable="no">
        <type>float</type>
        <definition>float go_to_point.lb_a</definition>
        <argsstring></argsstring>
        <name>lb_a</name>
        <initializer>=  -0.5</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="84" column="1" bodyfile="scripts/go_to_point.py" bodystart="84" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a16c473b9e717200c483d18e66b48152a" prot="public" static="no" mutable="no">
        <type>float</type>
        <definition>float go_to_point.ub_d</definition>
        <argsstring></argsstring>
        <name>ub_d</name>
        <initializer>=  0.6</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="87" column="1" bodyfile="scripts/go_to_point.py" bodystart="87" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a0157a8fb4c1c26f4d5e8ea95652b0d7c" prot="public" static="no" mutable="no">
        <type></type>
        <definition>go_to_point.vel_</definition>
        <argsstring></argsstring>
        <name>vel_</name>
        <initializer>=  Twist()</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="90" column="1" bodyfile="scripts/go_to_point.py" bodystart="90" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacego__to__point_1a2017a478ea0eb9380bed961db601f95d" prot="public" static="no" mutable="no">
        <type></type>
        <definition>go_to_point.action_server</definition>
        <argsstring></argsstring>
        <name>action_server</name>
        <initializer>=  None</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="95" column="1" bodyfile="scripts/go_to_point.py" bodystart="95" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="namespacego__to__point_1afea56a392e98b6db44754a04f7039ccd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def go_to_point.clbk_vel</definition>
        <argsstring>(msg)</argsstring>
        <name>clbk_vel</name>
        <param>
          <type>msg</type>
          <defname>msg</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>This function saves the data received by the subscriber on the topic */vel*
in a global variable of type Twist, Vel, this variable will be used when
there is the need to set a new velocity.

Args :
    msg(Twist): the data received on the topic */vel*

Returns :
    None
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="99" column="1" bodyfile="scripts/go_to_point.py" bodystart="99" bodyend="114"/>
      </memberdef>
      <memberdef kind="function" id="namespacego__to__point_1a36304a9f313b0579f7fc69fa01695524" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def go_to_point.clbk_odom</definition>
        <argsstring>(msg)</argsstring>
        <name>clbk_odom</name>
        <param>
          <type>msg</type>
          <defname>msg</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>This function saves the data received by the subscriber on the topic */odom*
in the global variable position for the information about the current position
of the robot. It then changes the format of the orientation from quaternions angles
to euler angles; it is the extracted the third element of the vector and it is saved
on the global variable *yaw_*

Args :
    msg(Odometry): the data received on the topic */odom*

Returns :
    None
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="115" column="1" bodyfile="scripts/go_to_point.py" bodystart="115" bodyend="143"/>
      </memberdef>
      <memberdef kind="function" id="namespacego__to__point_1a31ee48e5cae36821049b572a96b7c8be" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def go_to_point.change_state</definition>
        <argsstring>(state)</argsstring>
        <name>change_state</name>
        <param>
          <type>state</type>
          <defname>state</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>This function receives the new state and assigns its value to the global 
variable *states_*. Then a message is printed to know which one is the
new state.

Args :
    state(Int): the state of the robot

Returns :
    None
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="144" column="1" bodyfile="scripts/go_to_point.py" bodystart="144" bodyend="159"/>
      </memberdef>
      <memberdef kind="function" id="namespacego__to__point_1ac688bb56fa84763ea2edefc30cae032a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def go_to_point.normalize_angle</definition>
        <argsstring>(angle)</argsstring>
        <name>normalize_angle</name>
        <param>
          <type>angle</type>
          <defname>angle</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>This function normalizes the angle received as input, it doesn&apos;t change 
the sign but it reduces the magnitude to less than one full circle

Args :
    angle(Float): the angle I want to normalize

Returns :
    angle(Float): the normalized angle.
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="160" column="1" bodyfile="scripts/go_to_point.py" bodystart="160" bodyend="174"/>
      </memberdef>
      <memberdef kind="function" id="namespacego__to__point_1a9c3011a3065fcbefcc1c5ad8c9979669" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def go_to_point.fix_yaw</definition>
        <argsstring>(des_pos)</argsstring>
        <name>fix_yaw</name>
        <param>
          <type>des_pos</type>
          <defname>des_pos</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>This function calculates the desired orientation to reach the x,y point
and set the angular velocity to reach it. If the orientation error is 
less than a given threshold then the state is changed to the behaviour
go straight.
   
Args :
    des_pos(Point): the desired x and y coordinates

Returns :
    None
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="175" column="1" bodyfile="scripts/go_to_point.py" bodystart="175" bodyend="205"/>
      </memberdef>
      <memberdef kind="function" id="namespacego__to__point_1ac8579665c0fbf665f734476554fac37d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def go_to_point.go_straight_ahead</definition>
        <argsstring>(des_pos)</argsstring>
        <name>go_straight_ahead</name>
        <param>
          <type>des_pos</type>
          <defname>des_pos</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>This function calculates the desired orientation to reach the x,y point and the distance between the goal both linear and angular.
It then sets the linear velocity. It also set an angular velocity proportional to the error to slightly correct the direction of the line when needed.
If the distance between the goal is less than a given threshold the state is changed to the fix final orientation behaviour.

Args :
    des_pos(Point): the desired x and y coordinates

Returns :
    None
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="206" column="1" bodyfile="scripts/go_to_point.py" bodystart="206" bodyend="243"/>
      </memberdef>
      <memberdef kind="function" id="namespacego__to__point_1a4a406386ca62830c19c93949e923f7bd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def go_to_point.fix_final_yaw</definition>
        <argsstring>(des_yaw)</argsstring>
        <name>fix_final_yaw</name>
        <param>
          <type>des_yaw</type>
          <defname>des_yaw</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>This function calculates the error between the current orientation and the 
desired one. It then sets the angular velocity to obtain the correct orientation.
If the error is less than a given threshold then the state is changed to done.

Args :
    des_yaw(Float): the desired orientation

Returns :
    None
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="244" column="1" bodyfile="scripts/go_to_point.py" bodystart="244" bodyend="271"/>
      </memberdef>
      <memberdef kind="function" id="namespacego__to__point_1ac2587220a4ac9c845bc9c5b0b45d5835" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def go_to_point.done</definition>
        <argsstring>()</argsstring>
        <name>done</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>This function puts to zero all the velocities, angular and linear, and sets
the goal as succeeded.  

Args :
    None

Returns :
    None
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="272" column="1" bodyfile="scripts/go_to_point.py" bodystart="272" bodyend="290"/>
      </memberdef>
      <memberdef kind="function" id="namespacego__to__point_1a2203d17b7e563bee20ed4c988548df45" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def go_to_point.go_to_point</definition>
        <argsstring>(goal)</argsstring>
        <name>go_to_point</name>
        <param>
          <type>goal</type>
          <defname>goal</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>This function is called when a request to the server is made. It sets 
all the global variables needed, then it enteres a while loop. In the while
loop it always check if the goal is preempted and if that is the case it
sets all the velocities to zero and it set the goal as preempted. If 
the action server is not preempted it checks which is the state and it 
calls the corresponding function.  

Args :
    goal: the desired position and orientation to obtain

Returns :
    None
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="291" column="1" bodyfile="scripts/go_to_point.py" bodystart="291" bodyend="339"/>
      </memberdef>
      <memberdef kind="function" id="namespacego__to__point_1ab92bd6db1ec323a4d795ed6cb40aebe1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def go_to_point.main</definition>
        <argsstring>()</argsstring>
        <name>main</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>This function is called when the program is first requested to run. It
initializes all the publishers, subscribers, services and then waits for
a request for the action server that should come from the user_interface
node.

Args :
    None

Returns :
    None
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/go_to_point.py" line="340" column="1" bodyfile="scripts/go_to_point.py" bodystart="340" bodyend="365"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><verbatim>.. module:: go_to_point
    :platform: Unix
    :synopsis: This file implements the behaviour that allows the robot to reach a goal.
.. moduleauthor:: Riccardo Zuppetti

This node allows the robot to reach a position with a given orientation.
Firstly it orients the robot in the direction of the goal and moves towards it.
Once the robot has reached the correct x and y coordinates it rotates to reach
the correct orientation. The velocities, both angular and linear are set by
the node *user_interface* and are received on the topic */vel*. If the goal
is set cancelled by the client of the action server then the velocities are
all set to zero and the action server is set preempted.  
 
Subscribes to:

/odom topic where the simulator publishes the robot position

/vel where the *user_interface* publishes the requested velocities

Publishes to:

/cmd_vel the desired robot velocity, it depends on the state

Service :

/go_to_point to start the robot motion.
</verbatim> </para>
    </detaileddescription>
    <location file="scripts/go_to_point.py" line="1" column="1"/>
  </compounddef>
</doxygen>
